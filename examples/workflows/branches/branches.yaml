name: branches_demo

tasks:
  start:
    executor: python
    file: branches.py
    function: hello
    input:
      name: "branch root"
      delay: 2
    output_type:
      message: string
      timestamp: number

  left:
    executor: python
    file: branches.py
    function: hello
    depends_on: [start]
    input:
      name: "left path"
      delay: 5
    input_type:
      upstream:
        start:
          message: string
          timestamp: number
    output_type:
      message: string
      timestamp: number

  right:
    executor: python
    file: branches.py
    function: hello
    depends_on: [start]
    input:
      name: "right path"
      delay: 5
    input_type:
      upstream:
        start:
          message: string
          timestamp: number
    output_type:
      message: string
      timestamp: number

  join:
    executor: python
    file: branches.py
    function: compliment
    depends_on: [left, right]
    input:
      adjective: "joined outputs"
    input_type:
      upstream:
        left:
          message: string
          timestamp: number
        right:
          message: string
          timestamp: number
    output_type:
      line: string
      adjective: string
