name: parallel_demo

tasks:
  hello_left:
    executor: python
    file: parallel.py
    function: hello
    input:
      name: "left branch"
      delay: 5
    output_type:
      message: string
      timestamp: number

  hello_right:
    executor: python
    file: parallel.py
    function: hello
    input:
      name: "right branch"
      delay: 5
    output_type:
      message: string
      timestamp: number

  combine:
    executor: python
    file: parallel.py
    function: compliment
    depends_on: [hello_left, hello_right]
    input:
      adjective: "running in parallel"
    input_type:
      upstream:
        hello_left:
          message: string
          timestamp: number
        hello_right:
          message: string
          timestamp: number
    output_type:
      line: string
      adjective: string
